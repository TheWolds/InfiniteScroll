!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o,r,l=function(e){console.log(e)},i=function(e,t){return e||l("선택자를 넣어주세요"),"string"!=typeof e&&l("선택자가 문자열이 아닙니다."),t||(t=document),"#"===e[0]?(t!==document&&l("해당 parent는 getElementById를 사용할 수 없습니다."),document.getElementById(e.slice(1))):t.querySelector(e)};function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=(r=o=function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"setScroll",function(e){var t=e.rowHeight,o=e.templateHTML,r=e.dataList,l=void 0===r?[]:r;n.isScrollDown=!0,n.lastScrollTop=0,n.lastRowIndex=-1,n.cachedItems=[],n.rowHeight=t,n.templateHTML=o,n.dataList=l,n.parent.style.position="relative",n.component.scrollTop=0,n.visibleRowCount=Math.ceil(n.component.clientHeight/n.rowHeight);var i=Math.max(n.visibleRowCount,20);n.preparedRowCount=i+i%2,component.removeEventListener("scroll",n.handleScrollEvent),component.addEventListener("scroll",n.handleScrollEvent),n.handleScroll()}),c(this,"handleScrollEvent",function(){requestAnimationFrame(function(){n._handleScrollEvent()})}),c(this,"_handleScrollEvent",function(){var e,t=n.component.scrollTop;n.isScrollDown=t>n.lastScrollTop,e=n.isScrollDown?n.handleScrollDown:n.handleScrollUp,n.lastScrollTop=t,e()}),c(this,"handleScrollDown",function(){var e=n.cachedItems[n.cachedItems.length-1],t=e.getBoundingClientRect(),o=n.component.getBoundingClientRect();if(t.bottom<0)parseInt(e.dataset.index,10)+1<n.dataList.length&&n.handleScroll();else if(t.bottom<o.bottom+5*n.rowHeight){var r=parseInt(e.dataset.index,10)+1,l=r+n.preparedRowCount;n.render(r,l,!0)}}),c(this,"handleScrollUp",function(){var e=n.cachedItems[0],t=e.getBoundingClientRect(),o=n.component.getBoundingClientRect();if(t.top>o.bottom)n.handleScroll();else if(t.top>o.top-5*n.rowHeight){var r=parseInt(e.dataset.index,10),l=r-n.preparedRowCount;n.render(l,r)}}),c(this,"handleScroll",function(){var e=Math.floor(n.component.scrollTop/n.rowHeight),t=e-n.preparedRowCount/2,o=e+n.visibleRowCount+n.preparedRowCount/2;n.render(t,o)}),c(this,"render",function(e,t){var o=n.dataList.length;if(e<0&&(e=0),t>o&&(t=o),!(e>=o||0===o||t<=0)){var r,i=n.getListHTML(e,t-e),c=("string"!=typeof(r=i)&&l("html 문자열이 아닙니다."),document.createRange().createContextualFragment(r));n.append(c)}}),c(this,"remove",function(e,t){for(var o=e;o<=t;o++)n.parent.removeChild(n.cachedItems[o])}),c(this,"append",function(e){n.isScrollDown?n.parent.appendChild(e):n.parent.insertBefore(e,n.parent.children[0]),n.cachedItems=n.parent.querySelectorAll(n.itemSelector),n.update()}),c(this,"update",function(){var e,t;n.isScrollDown?(t=n.cachedItems[0].getBoundingClientRect().top-n.component.getBoundingClientRect().top)<0&&(e=Math.floor(Math.abs(t)/n.rowHeight)-n.preparedRowCount)>0&&(n.remove(0,e),n.cachedItems=n.parent.querySelectorAll(n.itemSelector)):(t=n.cachedItems[n.cachedItems.length-1].getBoundingClientRect().bottom-n.component.getBoundingClientRect().bottom)>0&&(e=Math.floor(t/n.rowHeight)-n.preparedRowCount)>0&&(n.remove(n.cachedItems.length-1-e,n.cachedItems.length-1),n.cachedItems=n.parent.querySelectorAll(n.itemSelector))}),c(this,"getListHTML",function(e,t){for(var o="",r=e;r<e+t;r++)o+=n.templateHTML(n.rowHeight,r);return o});var o=t.component,r=t.parent,a=t.itemSelector;this.component=i(o),this.parent=i(r),this.itemSelector=a},c(o,"setScroll",function(e,t){return new a(e).setScroll(t)}),r),u=a;window.InfiniteScroll=u}]);